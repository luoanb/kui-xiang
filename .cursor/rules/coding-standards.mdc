---
description: 代码规范和编码标准
globs: ["src/**/*.{ts,vue}", "packages/**/*.{ts,vue}", "electron/**/*.{js,ts}"]
alwaysApply: true
---

# 代码规范规则

## TypeScript 规范
- 严格使用 TypeScript，避免使用 `any` 类型
- 优先使用类型推断，必要时显式声明类型
- 使用接口（interface）定义对象结构，使用类型别名（type）定义联合类型
- 组件 props 必须定义类型，使用 `defineProps<T>()` 或 `withDefaults()`

## Vue 组件规范
- 使用 Composition API，优先使用 `<script setup>`
- 组件名使用 PascalCase，文件名与组件名保持一致
- Props 和 Emits 必须定义类型
- 使用 `ref` 和 `reactive` 管理状态，优先使用 `ref`
- 计算属性使用 `computed`，避免在模板中写复杂逻辑

## 代码风格
- 使用 2 空格缩进
- 字符串优先使用单引号
- 行尾不使用分号（除非必要）
- 函数和变量使用 camelCase，常量使用 UPPER_SNAKE_CASE
- 组件导入顺序：Vue 相关 → 第三方库 → 本地组件 → 工具函数 → 类型定义

## 性能优化
- 大列表使用虚拟滚动
- 图片使用懒加载
- 避免在模板中使用复杂计算，使用计算属性
- 合理使用 `v-memo` 和 `v-once` 指令

## 日志规范
- **所有 console.log 必须前置关键词 key**，不允许直接 log 变量
- 使用格式：`console.log('[关键词]', 变量)` 或 `console.log('[关键词] 描述信息:', 变量)`
- 禁止使用：`console.log(variable)`、`console.log(params)`、`console.log(data)` 等无关键词的日志
- 关键词应简洁明了，能快速识别日志来源和用途
- 示例：
  - ✅ `console.log('[API] 请求参数:', params)`
  - ✅ `console.log('[Store] 更新状态:', state)`
  - ✅ `console.log('[Component] 组件挂载')`
  - ❌ `console.log(params)`
  - ❌ `console.log(messages)`
  - ❌ `console.log(data)`
