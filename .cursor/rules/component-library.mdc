---
description: 组件库使用规范
globs: ["src/**/*.{ts,vue}", "packages/**/*.{ts,vue}"]
alwaysApply: true
---

# 组件库使用规范

## 组件库位置
- UI 组件库位于 `src/components/ui/` 目录
- 每个组件都有独立的目录，包含组件文件和 `index.ts` 导出文件
- 业务组件位于 `src/components/` 其他子目录中

## 组件导入规范
- 使用绝对路径导入，格式：`import { ComponentName } from '@/components/ui/component-name'`
- 支持从组件目录的 `index.ts` 导入多个相关组件
- 支持导入类型定义，格式：`import type { ComponentProps } from '@/components/ui/component-name'`
- 示例：
  - ✅ `import { Button } from '@/components/ui/button'`
  - ✅ `import { Dialog, DialogContent, DialogHeader, type DialogProps } from '@/components/ui/dialog'`
  - ✅ `import { SidebarProvider, Sidebar, type SidebarProps } from '@/components/ui/sidebar'`
  - ❌ `import Button from '@/components/ui/button/Button.vue'`（应使用 index.ts 导出）

## 组件使用规范
- 优先使用 UI 组件库中的组件，避免重复实现
- 组件支持通过 props 传递配置，遵循组件的类型定义
- 使用组件的变体（variants）时，通过 props 传递，如 `variant="outline"`、`size="sm"` 等
- 复杂组件（如 Dialog、Sidebar）需要组合使用多个子组件，参考组件库文档或现有实现

## 禁止使用的组件
- **ToastAction 不可用**：在 Toast 中需要按钮时，应使用 `Button` 组件替代，不要使用 `ToastAction`
  - ❌ `import { ToastAction } from '@/components/ui/toast'`
  - ✅ `import { Button } from '@/components/ui/button'` 然后在 Toast 中使用 `<Button>`

## 组件扩展
- 如需扩展 UI 组件，优先通过组合现有组件实现
- 如需修改 UI 组件，应在组件目录内修改，保持导出接口不变
- 新增 UI 组件应遵循现有组件的目录结构和导出方式
- 每个组件目录应包含：
  - 组件 Vue 文件（如 `Button.vue`）
  - `index.ts` 导出文件
  - 类型定义（如需要）

## 业务组件
- 业务组件放在 `src/components/` 的功能子目录中（如 `chat/`、`setting/`、`rag/` 等）
- 业务组件可以导入和使用 UI 组件库中的组件
- 业务组件命名使用 PascalCase，与文件名保持一致

## 组件类型
- 使用 TypeScript 严格类型检查
- 组件 props 必须定义类型，使用 `defineProps<T>()` 或 `withDefaults()`
- 导出组件时，同时导出相关的类型定义，便于其他组件使用
